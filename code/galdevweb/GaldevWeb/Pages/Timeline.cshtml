@page "{name?}"
@model TimelineModel
@{
    ViewData["Active"] = "Timeline";

    var firstEntry = Model.Entries[0];
    ViewData["Title"] = firstEntry.Title;
    ViewData["MetaDescription"] = firstEntry.Summary;
    ViewData["MetaFacebookTitle"] = firstEntry.Title;
    ViewData["MetaFacebookDescription"] = firstEntry.Summary;
    ViewData["MetaFacebookImage"] = "/Image/" + firstEntry.Image;
    ViewData["MetaFacebookImageAlt"] = firstEntry.Title;
    ViewData["MetaTwitterTitle"] = firstEntry.Title;
    ViewData["MetaTwitterDescription"] = firstEntry.Summary;
    ViewData["MetaTwitterImage"] = "/Image/" + firstEntry.Image;
}

@if (Model.NotAvailable) {

    <div class="row mt-3">
        <div class="col-12">
            <h3>
                Not available in this language
            </h3>
        </div>
    </div>

} else {

    <div class="row mt-3"></div>

    @foreach (var entry in Model.Entries) {

        <div class="row mt-3 gd-entry">
            <div class="col-12">
                <h5 class="col-12 gd-entry-headline"><span class="gd-entry-year">@entry.Year</span> <span class="gd-entry-title">@entry.Title</span></h5>

                @if (!string.IsNullOrEmpty(entry.Image)) {
                    <img src="/Image/@entry.Image" class="gd-entry-image float-end img-fluid mb-3" />
                }

                @foreach (var t in entry.Text) {
                    <p class="gd-entry-text">@t</p>
                }

            </div>
        </div>

    }

    @if (Model.NextEntry != null) {
        <div class="row mt-3 mb-3">
            <div class="col-12">
                <a asp-page="/Timeline" asp-route-name="@Model.NextEntry.SeoTitle">
                    <img src="~/images/Timeline/next.png" alt="next" class="gd-timeline-next gd-timeline-next-left" />

                    @Model.NextEntry.Year
                    @Model.NextEntry.Title

                    <img src="~/images/Timeline/next.png" alt="next" class="gd-timeline-next gd-timeline-next-right" />
                </a>
            </div>
        </div>
    }
}
